---
import NoRating from './NoRating.astro';
import Rating from './Rating.astro';

const { product } = Astro.props;
---

<div>
   <div class="relative">
      <img src={product.image} class="rounded-xl w-full" />
      {
         product.popular && (
            <span class="inline-block text-[10px] py-1 px-4 absolute top-2 font-bold left-2 bg-[#F6C768] rounded-full">
               Popular
            </span>
         )
      }
   </div>
   <div>
      <div class="flex justify-between items-center py-3">
         <h3 class="text-heading-color text-[16px] font-bold">
            {product.name}
         </h3>
         <span class="rounded-sm text-[12px] font-bold py-1 px-2 bg-[#BEE3CC]">
            {product.price}
         </span>
      </div>
      <div class="flex justify-between">
         {
            product.rating ? (
               <Rating votes={product.votes} rating={product.rating} />
            ) : (
               <NoRating />
            )
         }
         {
            !product.available && (
               <div>
                  <span class="text-[#ED735D] font-bold text-[14px]">
                     Sold out
                  </span>
               </div>
            )
         }
      </div>
   </div>
</div>
